{"version":3,"sources":["webpack:///./src/app/routes/reset-password-page/module.ts","webpack:///./src/app/routes/reset-password-page/reset-password-page.component.html","webpack:///./src/app/routes/reset-password-page/reset-password-page.component.ts","webpack:///./src/app/routes/reset-password-page/router.ts"],"names":[],"mappings":"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","file":"routes-reset-password-page-module.js","sourcesContent":["/* \nImports \n*/\n    // Angular\n    import { NgModule } from '@angular/core';\n    import { CommonModule } from '@angular/common';\n    import { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n    // Inner\n    import { Routing } from './router';\n    import { ResetPasswordPageComponent } from './reset-password-page.component';\n    import { FormResponseModule } from \"../../components/form-response/module\";\n//\n\n\n/* \nDefinition \n*/\n    @NgModule({\n        declarations: [ ResetPasswordPageComponent ],\n        imports: [ \n            CommonModule, \n            Routing,\n            FormsModule, \n            ReactiveFormsModule,\n            FormResponseModule\n        ]\n    })\n//\n\n\n/* \nExport \n*/\n    export class Module {};\n//","module.exports = \"<h2>Changer de mot de passe</h2>\\n<form autocomplete=\\\"off\\\" novalidate [formGroup]=\\\"form\\\" (submit)=\\\"submitForm()\\\">\\n  <label for=\\\"actualPassword\\\">Mot de passe actuel</label>\\n  <input type=\\\"password\\\" name=\\\"actualPassword\\\" id=\\\"actualPassword\\\" required minlength=\\\"5\\\" formControlName = \\\"password\\\">\\n\\n  <label for=\\\"newPassword\\\">Nouveau mot de passe</label>\\n  <input type=\\\"password\\\" name=\\\"newPassword\\\" id=\\\"newPassword\\\" required minlength=\\\"5\\\" formControlName = \\\"newPassword\\\">\\n\\n  <label for=\\\"newPasswordSecure\\\">Nouveau mot de passe <span *ngIf=\\\"passwordError\\\">Incorrect</span></label>\\n  <input type=\\\"password\\\" name=\\\"newPasswordSecure\\\" id=\\\"newPasswordSecure\\\" required minlength=\\\"5\\\" formControlName = \\\"secureNewPassword\\\" (focus)=\\\"passwordError = false\\\">\\n\\n  <button type=\\\"submit\\\" [disabled]='!form.valid'>Valider</button>\\n</form>\\n\\n<app-form-response\\n    *ngIf=\\\"displayReturn\\\"\\n    [content]=\\\"apiMessage\\\"\\n    [class]=\\\"messageClass\\\"\\n    (close)=\\\"displayReturn = false\\\"\\n></app-form-response>\"","/* \nImports & definition \n*/\n  // Imports\n  import { Component, OnInit,Input, Output, EventEmitter, OnChanges } from '@angular/core';\n  import { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\n\n  // Inner\n  import { AuthService } from \"../../services/auth/auth-service.service\";\n  import { ApiResponseModel } from \"../../models/api.reponse.model\";\n\n  // Definition\n  @Component({\n    selector: 'app-reset-password-page',\n    templateUrl: './reset-password-page.component.html',\n    providers: [ AuthService ]\n  })\n//\n\n\n/* \nExport \n*/\n  export class ResetPasswordPageComponent implements OnInit {\n    /* \n    Config.\n    */\n      // Declaration\n      public form: FormGroup;\n      public formData: any;\n      public passwordError: Boolean = false;\n      public resetFormData: Boolean = false;\n      public displayReturn: Boolean = false;\n      public messageClass: String;\n      public apiMessage: String;\n\n      // Instanciation\n      constructor(\n        private AuthService: AuthService,\n        private FormBuilder: FormBuilder\n      ) { };\n    //\n\n    /* \n    Methods\n    */\n      // Reset form\n      private resetForm = () => {\n        // Set validator\n        this.form = this.FormBuilder.group({\n          password: [undefined, Validators.required],\n          newPassword: [undefined, Validators.required],\n          secureNewPassword: [undefined, Validators.required]\n        });\n      };\n\n      // Submit form\n      public submitForm = () => {\n        // Check passwords\n        if(this.form.value.newPassword !== this.form.value.secureNewPassword){ this.passwordError = true } \n        else{\n          this.AuthService.restPassword(this.form.value.password, this.form.value.newPassword)\n          .then( (apiResponse: ApiResponseModel) => {\n            // API success response\n            this.messageClass = 'success';\n            this.apiMessage = apiResponse.message;\n            this.displayReturn = true;\n\n            // Reset form data\n            this.resetFormData = true;\n          })\n          .catch( (apiResponse: ApiResponseModel) => {\n            console.log(apiResponse)\n            // API error response\n            this.messageClass = 'error';\n            this.apiMessage = apiResponse.message;\n            this.displayReturn = true;\n          })\n        };\n      };\n    //\n\n    /* \n    Hooks\n    */\n      ngOnInit() {\n        this.resetForm();\n      };\n    //\n  };\n//","/* \nImports \n*/\n    import { ModuleWithProviders } from '@angular/core';\n    import { Routes, RouterModule } from '@angular/router';\n    import { ResetPasswordPageComponent } from './reset-password-page.component';\n//\n\n\n/* \nDefinition \n*/\n    const route: Routes = [\n        {\n            path: '',\n            component: ResetPasswordPageComponent\n        }\n    ];\n//\n\n\n/* \nExport \n*/\n    export const Routing: ModuleWithProviders = RouterModule.forChild(route);\n//"],"sourceRoot":""}