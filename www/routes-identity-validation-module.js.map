{"version":3,"sources":["webpack:///./src/app/routes/identity-validation/identity-validation.component.html","webpack:///./src/app/routes/identity-validation/identity-validation.component.ts","webpack:///./src/app/routes/identity-validation/module.ts","webpack:///./src/app/routes/identity-validation/router.ts"],"names":[],"mappings":"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","file":"routes-identity-validation-module.js","sourcesContent":["module.exports = \"<h2>Validation de votre identit√©</h2>\\n<form [formGroup]=\\\"form\\\" (submit)=\\\"submitForm()\\\">\\n  <label for=\\\"password\\\">Quel est votre mot de passe ?</label>\\n  <input type=\\\"password\\\" name=\\\"password\\\" id=\\\"password\\\" required minlength=\\\"5\\\" formControlName = \\\"password\\\">\\n  <button type=\\\"submit\\\" [disabled]='!form.valid'>Valider</button>\\n</form>\\n\\n<app-form-response\\n  *ngIf=\\\"displayReturn\\\"\\n  [content]=\\\"apiMessage\\\"\\n  [class]=\\\"messageClass\\\"\\n  (close)=\\\"displayReturn = false\\\"\\n></app-form-response>\"","/* \nImports & definition \n*/\n  // Imports\n  import { Component, OnInit } from '@angular/core';\n  import { ActivatedRoute } from '@angular/router';\n  import { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\n\n  // Inner\n  import { IdentityModel } from '../../models/identity.model';\n  import { ApiResponseModel } from \"../../models/api.reponse.model\";\n  import { AuthService } from \"../../services/auth/auth-service.service\";\n\n  @Component({\n    selector: 'app-identity-validation',\n    templateUrl: './identity-validation.component.html',\n    providers: [ AuthService ]\n  })\n//\n\n\n/* \nExport\n*/\n  export class IdentityValidationComponent implements OnInit {\n    /* \n    Config.\n    */\n      // Declaration\n      private userId: String;\n      public form: FormGroup;\n      public resetFormData: Boolean = false;\n      public displayReturn: Boolean = false;\n      public messageClass: String;\n      public apiMessage: String;\n\n      // Module injection\n      constructor(\n        private ActivatedRoute: ActivatedRoute,\n        private AuthService: AuthService,\n        private FormBuilder: FormBuilder\n      ) {};\n    //\n\n\n    /*\n    Methods\n    */\n        // Reset form\n        private resetForm = () => {\n          // Set validator\n          this.form = this.FormBuilder.group({\n            password: [undefined, Validators.required],\n          });\n        };\n\n        // Get route param\n        private extractParam = () => {\n          this.ActivatedRoute.params.forEach( param => {\n            this.userId = param.id\n          });\n        };\n\n        // Check identity\n        private submitForm = () => {\n          this.AuthService.identityValidation(this.userId, this.form.value.password)\n          .then( (apiResponse: ApiResponseModel) => {\n            // API success response\n            this.messageClass = 'success';\n            this.apiMessage = apiResponse.message;\n            this.displayReturn = true;\n\n            // Reset form data\n            this.resetForm();\n          })\n          .catch( (apiResponse: ApiResponseModel) => {\n            // API error response\n            this.messageClass = 'error';\n            this.apiMessage = apiResponse.message;\n            this.displayReturn = true;\n          })\n        }\n    //\n\n\n    /* \n    Hooks\n    */\n      ngOnInit() {\n        // Reset form data\n        this.resetForm();\n\n        // Get identity ID\n        this.extractParam();\n      };\n    //\n  }\n//","/* \nImports \n*/\n    // Angular\n    import { NgModule } from '@angular/core';\n    import { CommonModule } from '@angular/common';\n    import { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n    // Inner\n    import { Routing } from './router';\n    import { IdentityValidationComponent } from './identity-validation.component';\n    import { FormResponseModule } from \"../../components/form-response/module\";\n//\n\n\n/* \nDefinition \n*/\n    @NgModule({\n        declarations: [ IdentityValidationComponent ],\n        imports: [ \n            CommonModule, \n            Routing,\n            FormsModule, \n            ReactiveFormsModule,\n            FormResponseModule\n        ]\n    })\n//\n\n\n/* \nExport \n*/\n    export class Module {};\n//","/* \nImports \n*/\n    import { ModuleWithProviders } from '@angular/core';\n    import { Routes, RouterModule } from '@angular/router';\n    import { IdentityValidationComponent } from './identity-validation.component';\n//\n\n\n/* \nDefinition \n*/\n    const route: Routes = [\n        {\n            path: ':id',\n            component: IdentityValidationComponent\n        }\n    ];\n//\n\n\n/* \nExport \n*/\n    export const Routing: ModuleWithProviders = RouterModule.forChild(route);\n//"],"sourceRoot":""}